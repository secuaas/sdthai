â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  STRUCTURE KUBERNETES - SD THAI FOOD                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

infrastructure/k8s/
â”‚
â”œâ”€â”€ ğŸ“š DOCUMENTATION (5 fichiers)
â”‚   â”œâ”€â”€ ğŸ“– README.md                    Guide principal d'utilisation
â”‚   â”œâ”€â”€ âš¡ QUICKSTART.md                Guide de dÃ©marrage rapide (5 min)
â”‚   â”œâ”€â”€ ğŸ—ï¸  STRUCTURE.md                Architecture dÃ©taillÃ©e
â”‚   â”œâ”€â”€ ğŸ“‹ FILES_SUMMARY.md            RÃ©sumÃ© des fichiers crÃ©Ã©s
â”‚   â””â”€â”€ âœ… VALIDATION.txt               Rapport de validation finale
â”‚
â”œâ”€â”€ ğŸ› ï¸  SCRIPTS (2 fichiers)
â”‚   â”œâ”€â”€ ğŸš€ deploy.sh                   DÃ©ploiement automatisÃ© (executable)
â”‚   â””â”€â”€ ğŸ” create-secrets.sh           CrÃ©ation des secrets (executable)
â”‚
â”œâ”€â”€ ğŸ”’ SÃ‰CURITÃ‰ (1 fichier)
â”‚   â””â”€â”€ .gitignore                     Protection des secrets
â”‚
â”œâ”€â”€ ğŸ“¦ BASE (11 fichiers YAML)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸŒ namespace.yaml              Namespace par dÃ©faut
â”‚   â”œâ”€â”€ ğŸ”€ ingress.yaml                Ingress Traefik + TLS
â”‚   â”œâ”€â”€ âš™ï¸  kustomization.yaml         Config Kustomize base
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”´ API (4 fichiers)
â”‚   â”‚   â”œâ”€â”€ kustomization.yaml         Config API
â”‚   â”‚   â”œâ”€â”€ deployment.yaml            DÃ©ploiement API
â”‚   â”‚   â”œâ”€â”€ service.yaml               Service ClusterIP API
â”‚   â”‚   â””â”€â”€ configmap.yaml             Configuration API
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ”µ WEB (4 fichiers)
â”‚       â”œâ”€â”€ kustomization.yaml         Config Web
â”‚       â”œâ”€â”€ deployment.yaml            DÃ©ploiement Web
â”‚       â”œâ”€â”€ service.yaml               Service ClusterIP Web
â”‚       â””â”€â”€ configmap.yaml             Configuration Web
â”‚
â””â”€â”€ ğŸ¯ OVERLAYS (10 fichiers YAML)
    â”‚
    â”œâ”€â”€ ğŸŸ¢ DEV (4 fichiers)
    â”‚   â”œâ”€â”€ kustomization.yaml         Config dev + ConfigMap merges
    â”‚   â”œâ”€â”€ api-patch.yaml             Patch API dev (1 replica, debug)
    â”‚   â”œâ”€â”€ web-patch.yaml             Patch Web dev (1 replica)
    â”‚   â””â”€â”€ ingress-patch.yaml         Patch Ingress dev
    â”‚
    â””â”€â”€ ğŸ”´ PROD (6 fichiers)
        â”œâ”€â”€ kustomization.yaml         Config prod + ConfigMap merges
        â”œâ”€â”€ api-patch.yaml             Patch API prod (3 replicas)
        â”œâ”€â”€ api-hpa.yaml               Auto-scaling API (3-10)
        â”œâ”€â”€ web-patch.yaml             Patch Web prod (2 replicas)
        â”œâ”€â”€ web-hpa.yaml               Auto-scaling Web (2-5)
        â””â”€â”€ ingress-patch.yaml         Patch Ingress prod

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                            DÃ‰PLOIEMENTS                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŸ¢ ENVIRONNEMENT DEV
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Namespace:    sdthai-dev                                                   â”‚
â”‚ Domaines:     sdthai-dev.secuaas.dev                                       â”‚
â”‚               api-sdthai-dev.secuaas.dev                                   â”‚
â”‚ Images:       registry/sdthai-api:dev                                      â”‚
â”‚               registry/sdthai-web:dev                                      â”‚
â”‚                                                                            â”‚
â”‚ Ressources:   9 objets Kubernetes                                          â”‚
â”‚   â€¢ 1 Namespace                                                            â”‚
â”‚   â€¢ 2 ConfigMaps (API + Web)                                               â”‚
â”‚   â€¢ 1 Secret (API - Ã  crÃ©er)                                               â”‚
â”‚   â€¢ 2 Deployments (API=1 replica, Web=1 replica)                          â”‚
â”‚   â€¢ 2 Services (ClusterIP)                                                 â”‚
â”‚   â€¢ 1 Ingress (Traefik + TLS)                                              â”‚
â”‚                                                                            â”‚
â”‚ CaractÃ©ristiques:                                                          â”‚
â”‚   âœ“ NODE_ENV=development                                                   â”‚
â”‚   âœ“ LOG_LEVEL=debug                                                        â”‚
â”‚   âœ“ Database: sdthai_dev (Redis DB 1)                                     â”‚
â”‚   âœ“ Resources: 256Mi/200m CPU (req), 512Mi/500m CPU (lim)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”´ ENVIRONNEMENT PROD
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Namespace:    sdthai-prod                                                  â”‚
â”‚ Domaines:     sdthai.ch, www.sdthai.ch                                     â”‚
â”‚               api.sdthai.ch                                                â”‚
â”‚ Images:       registry/sdthai-api:latest                                   â”‚
â”‚               registry/sdthai-web:latest                                   â”‚
â”‚                                                                            â”‚
â”‚ Ressources:   11 objets Kubernetes                                         â”‚
â”‚   â€¢ 1 Namespace                                                            â”‚
â”‚   â€¢ 2 ConfigMaps (API + Web)                                               â”‚
â”‚   â€¢ 1 Secret (API - Ã  crÃ©er)                                               â”‚
â”‚   â€¢ 2 Deployments (API=3 replicas, Web=2 replicas)                        â”‚
â”‚   â€¢ 2 HPA (API=3-10 replicas, Web=2-5 replicas)                           â”‚
â”‚   â€¢ 2 Services (ClusterIP)                                                 â”‚
â”‚   â€¢ 1 Ingress (Traefik + TLS + Security)                                  â”‚
â”‚                                                                            â”‚
â”‚ CaractÃ©ristiques:                                                          â”‚
â”‚   âœ“ NODE_ENV=production                                                    â”‚
â”‚   âœ“ LOG_LEVEL=info                                                         â”‚
â”‚   âœ“ Database: sdthai_prod (Redis DB 0)                                    â”‚
â”‚   âœ“ Resources: 256Mi/200m CPU (req), 512Mi/500m CPU (lim)                 â”‚
â”‚   âœ“ HPA: CPU 70%, Memory 80%                                               â”‚
â”‚   âœ“ Pod Anti-Affinity (distribution sur nodes)                            â”‚
â”‚   âœ“ Rolling Update (zero-downtime)                                         â”‚
â”‚   âœ“ Prometheus metrics                                                     â”‚
â”‚   âœ“ Security middlewares                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          COMMANDES RAPIDES                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ PRÃ‰VISUALISATION
   ./deploy.sh dev preview              PrÃ©visualiser manifestes dev
   ./deploy.sh prod preview             PrÃ©visualiser manifestes prod

ğŸ” SECRETS
   ./create-secrets.sh dev              CrÃ©er secrets dev
   ./create-secrets.sh prod             CrÃ©er secrets prod

ğŸš€ DÃ‰PLOIEMENT
   ./deploy.sh dev apply                DÃ©ployer en dev
   ./deploy.sh prod apply               DÃ©ployer en prod

ğŸ“Š STATUS
   ./deploy.sh dev status               Status dev complet
   ./deploy.sh prod status              Status prod complet

ğŸ—‘ï¸  SUPPRESSION
   ./deploy.sh dev delete               Supprimer ressources dev
   ./deploy.sh prod delete              Supprimer ressources prod

ğŸ“ LOGS
   kubectl logs -f -n sdthai-dev -l app=sdthai-api     Logs API dev
   kubectl logs -f -n sdthai-prod -l app=sdthai-web    Logs Web prod

âš™ï¸  AVEC SECUOPS (pour k8s-dev/k8s-prod)
   secuops deploy -f overlays/dev -n sdthai-dev        DÃ©ployer dev
   secuops deploy -f overlays/prod -n sdthai-prod      DÃ©ployer prod

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      CHECKLIST AVANT DÃ‰PLOIEMENT                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  CONFIGURATION REQUISE

   1. ğŸ³ Images Docker
      Modifier dans overlays/dev/kustomization.yaml et overlays/prod/kustomization.yaml:
      - name: registry/sdthai-api
        newName: votre-registry.com/sdthai-api  â¬…ï¸ MODIFIER ICI

   2. ğŸ—„ï¸  Base de donnÃ©es
      Modifier dans overlays/dev/kustomization.yaml et overlays/prod/kustomization.yaml:
      configMapGenerator:
        literals:
        - DATABASE_URL=postgresql://user:pass@host:5432/db  â¬…ï¸ MODIFIER ICI

   3. ğŸ” Secrets
      ./create-secrets.sh dev    â¬…ï¸ CRÃ‰ER AVANT DÃ‰PLOIEMENT
      ./create-secrets.sh prod   â¬…ï¸ CRÃ‰ER AVANT DÃ‰PLOIEMENT

   4. âœ… PrÃ©requis cluster
      â˜‘ï¸  Cert-manager installÃ©
      â˜‘ï¸  Traefik Ingress Controller installÃ©
      â˜‘ï¸  Metrics Server (pour HPA en prod)
      â˜‘ï¸  DNS configurÃ©s (pour prod)

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                            STATISTIQUES                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š TOTAL FICHIERS CRÃ‰Ã‰S: 29
   â€¢ 5 fichiers de documentation
   â€¢ 2 scripts bash
   â€¢ 1 fichier .gitignore
   â€¢ 21 fichiers YAML

ğŸ“ LIGNES DE MANIFESTES GÃ‰NÃ‰RÃ‰S
   â€¢ Dev:  314 lignes
   â€¢ Prod: 460 lignes

ğŸ¯ RESSOURCES KUBERNETES
   â€¢ Dev:  9 ressources
   â€¢ Prod: 11 ressources (avec HPA)

â±ï¸  TEMPS DE DÃ‰PLOIEMENT ESTIMÃ‰
   â€¢ Premier dÃ©ploiement: ~5 minutes
   â€¢ DÃ©ploiements suivants: ~2 minutes

ğŸ’¾ TAILLE TOTALE
   â€¢ Documentation: ~36 KB
   â€¢ Scripts: ~11 KB
   â€¢ Manifestes: ~21 KB
   â€¢ Total: ~68 KB

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         STATUS FINAL                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Structure complÃ¨te et validÃ©e
âœ… Conforme aux spÃ©cifications
âœ… Kustomize validÃ© (dev + prod)
âœ… Scripts fonctionnels
âœ… Documentation complÃ¨te
âœ… SÃ©curitÃ© implÃ©mentÃ©e
âœ… PrÃªt pour dÃ©ploiement

ğŸ‰ INFRASTRUCTURE KUBERNETES SD THAI FOOD - READY TO DEPLOY!

